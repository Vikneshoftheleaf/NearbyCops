<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Services</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>

<body class="">
    <div class="w-full bg-blue-200">
        <div class="p-8 py-16 mx-auto flex flex-col lg:w-1/2  gap-4 justify-center bg-blue-200">
            <h1 class="lg:text-6xl text-4xl font-bold capitalize">Find the service provider</h1>
            <p>Get the list of your nearby service provider.</p>
            <div class="flex flex-col ">
                <input type="text" id="serviceInput" placeholder="eg:Plumbing"
                    class="my-4 focus:outline-none border px-6 py-3 rounded-lg shadow-md shadow-gray-500/50">
                <button onclick="findServiceProviders()"
                    class="shadow-blue-500/50 shadow-md px-6 py-3 bg-blue-500 text-white text-xl font-semibold rounded-lg">Search</button>
            </div>

        </div>

    </div>

    <div id="providerList" class="p-8 mx-auto mt-2 flex flex-col lg:w-1/2 gap-6 justify-center"></div>

    <script>

        // Example JSON object with detailed service provider information
        const serviceProviders = {
            "oil change": [
                {
                    "name": "QuickLube",
                    "area": "Downtown",
                    "priceRange": "$30 - $70",
                    "contact": "555-1010"
                },
                {
                    "name": "ExpressOil",
                    "area": "Uptown",
                    "priceRange": "$35 - $75",
                    "contact": "555-2020"
                },
                {
                    "name": "EcoLube",
                    "area": "Suburbs",
                    "priceRange": "$40 - $80",
                    "contact": "555-3030"
                },
                {
                    "name": "LubeMaster",
                    "area": "City Center",
                    "priceRange": "$32 - $72",
                    "contact": "555-4040"
                },
                {
                    "name": "AutoLube",
                    "area": "Northside",
                    "priceRange": "$33 - $73",
                    "contact": "555-5050"
                },
                {
                    "name": "LubePro",
                    "area": "Southside",
                    "priceRange": "$34 - $74",
                    "contact": "555-6060"
                },
                {
                    "name": "OilExperts",
                    "area": "Eastside",
                    "priceRange": "$36 - $76",
                    "contact": "555-7070"
                },
                {
                    "name": "PremiumOil",
                    "area": "Westside",
                    "priceRange": "$38 - $78",
                    "contact": "555-8080"
                },
                {
                    "name": "SuperLube",
                    "area": "Old Town",
                    "priceRange": "$31 - $71",
                    "contact": "555-9090"
                },
                {
                    "name": "LubeProPlus",
                    "area": "New Town",
                    "priceRange": "$37 - $77",
                    "contact": "555-1111"
                }
            ],
            "tire rotation": [
                {
                    "name": "TireCare",
                    "area": "Downtown",
                    "priceRange": "$25 - $50",
                    "contact": "555-1212"
                },
                {
                    "name": "SpinTires",
                    "area": "Uptown",
                    "priceRange": "$28 - $55",
                    "contact": "555-2323"
                },
                {
                    "name": "TirePros",
                    "area": "Suburbs",
                    "priceRange": "$30 - $60",
                    "contact": "555-3434"
                },
                {
                    "name": "WheelWorks",
                    "area": "City Center",
                    "priceRange": "$27 - $52",
                    "contact": "555-4545"
                },
                {
                    "name": "AutoTire",
                    "area": "Northside",
                    "priceRange": "$29 - $58",
                    "contact": "555-5656"
                },
                {
                    "name": "TireXpress",
                    "area": "Southside",
                    "priceRange": "$26 - $54",
                    "contact": "555-6767"
                },
                {
                    "name": "RotateRite",
                    "area": "Eastside",
                    "priceRange": "$24 - $49",
                    "contact": "555-7878"
                },
                {
                    "name": "TireMax",
                    "area": "Westside",
                    "priceRange": "$27 - $53",
                    "contact": "555-8989"
                },
                {
                    "name": "TireCarePlus",
                    "area": "Old Town",
                    "priceRange": "$29 - $59",
                    "contact": "555-9090"
                },
                {
                    "name": "SpinNGo",
                    "area": "New Town",
                    "priceRange": "$28 - $57",
                    "contact": "555-1010"
                }
            ],
            "brake service": [
                {
                    "name": "BrakeMasters",
                    "area": "Downtown",
                    "priceRange": "$100 - $300",
                    "contact": "555-1313"
                },
                {
                    "name": "SafeBrakes",
                    "area": "Uptown",
                    "priceRange": "$120 - $320",
                    "contact": "555-2424"
                },
                {
                    "name": "BrakePros",
                    "area": "Suburbs",
                    "priceRange": "$110 - $310",
                    "contact": "555-3535"
                },
                {
                    "name": "BrakeCheck",
                    "area": "City Center",
                    "priceRange": "$115 - $315",
                    "contact": "555-4646"
                },
                {
                    "name": "StopSafe",
                    "area": "Northside",
                    "priceRange": "$105 - $305",
                    "contact": "555-5757"
                },
                {
                    "name": "BrakeXperts",
                    "area": "Southside",
                    "priceRange": "$130 - $330",
                    "contact": "555-6868"
                },
                {
                    "name": "AutoBrake",
                    "area": "Eastside",
                    "priceRange": "$125 - $325",
                    "contact": "555-7979"
                },
                {
                    "name": "BrakeCare",
                    "area": "Westside",
                    "priceRange": "$108 - $308",
                    "contact": "555-8080"
                },
                {
                    "name": "StopRite",
                    "area": "Old Town",
                    "priceRange": "$112 - $312",
                    "contact": "555-9191"
                },
                {
                    "name": "BrakePlus",
                    "area": "New Town",
                    "priceRange": "$118 - $318",
                    "contact": "555-1212"
                }
            ]
        }




        function findServiceProviders() {
            // Get the service name input by the user and convert it to lowercase
            const serviceInput = document.getElementById('serviceInput').value.trim().toLowerCase();

            // Initialize an empty array to hold matched providers
            let matchedProviders = [];

            // Loop through the serviceProviders object to find matching services
            for (let service in serviceProviders) {
                if (service.includes(serviceInput)) {
                    matchedProviders = serviceProviders[service];
                    break;
                }
            }

            // Get the provider list element
            const providerList = document.getElementById('providerList');
            providerList.innerHTML = ''; // Clear any previous results

            if (matchedProviders.length > 0) {
                // Display the providers with their details
                matchedProviders.forEach(provider => {
                    const providerCard = document.createElement('div');
                    providerCard.className = 'provider-card';

                    providerCard.innerHTML = `
            <div class="p-6 border shadow-md rounded-lg flex flex-col gap-4">
        
                <h3 class="text-2xl font-semibold">${provider.name}</h3>
                <hr/>
                <p class="text-base"><strong>Area:</strong> ${provider.area}</p>
                <p class="text-base"><strong>Price Range:</strong> ${provider.priceRange}</p>
                <p class="text-base"><strong>Contact:</strong> ${provider.contact}</p>
            </div>
            `;

                    providerList.appendChild(providerCard);
                });
            } else {
                // Display a message if no providers are found
                const noResult = document.createElement('p');
                noResult.textContent = 'No providers found for the entered service.';
                providerList.appendChild(noResult);
            }
        }

        if ("serviceWorker" in navigator) {
            window.addEventListener("load", () => {
                navigator.serviceWorker
                    .register("/service-worker.js")
                    .then((reg) => {
                        console.log("Service Worker Registered", reg);
                    })
                    .catch((err) => {
                        console.log("Service Worker Registration Failed", err);
                    });
            });
        }

    </script>
</body>

</html>